--// CONFIG
local checkInterval = 5 -- seconds between checks

--// SERVICES
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")

--// PLAYER GUI SETUP
local player = Players.LocalPlayer
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "LuckboardRejoinUI"
gui.ResetOnSpawn = false

--// TOGGLE BUTTON
local toggleButton = Instance.new("TextButton")
toggleButton.Parent = gui
toggleButton.Size = UDim2.new(0, 180, 0, 40)
toggleButton.Position = UDim2.new(0, 10, 0, 100)
toggleButton.BackgroundColor3 = Color3.new(0, 0, 0)
toggleButton.BackgroundTransparency = 0.5
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.TextScaled = true
toggleButton.Font = Enum.Font.SciFi
toggleButton.Text = "Luck Hopper: ON"
toggleButton.Active = true
toggleButton.Draggable = true

--// STATE
local hopperEnabled = true

toggleButton.MouseButton1Click:Connect(function()
	hopperEnabled = not hopperEnabled
	toggleButton.Text = hopperEnabled and "Luck Hopper: ON" or "Luck Hopper: OFF"
end)

--// MAIN LOOP
task.spawn(function()
	while true do
		if hopperEnabled then
			local decorations = workspace:FindFirstChild("MapDecorations")
			local luckBoard = decorations and decorations:FindFirstChild("Luckboard")
			
			if luckBoard then
				toggleButton.Text = "Luck Found ✅"
				break
			else
				toggleButton.Text = "No Luck ❌ - Rejoining..."
				task.wait(1)
				TeleportService:Teleport(game.PlaceId)
			end
		end
		task.wait(checkInterval)
	end
end)
